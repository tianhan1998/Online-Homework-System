<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
        <title>Veltrix - Responsive Bootstrap 4 Admin Dashboard</title>
        <meta content="Admin Dashboard" name="description" />
        <meta content="Themesbrand" name="author" />
        <link rel="shortcut icon" href="images/favicon.ico">
        <link href="plugins/sweet-alert2/sweetalert2.min.css" rel="stylesheet" type="text/css">

        <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="css/icons.css" rel="stylesheet" type="text/css">
        <link href="css/style.css" rel="stylesheet" type="text/css">
    </head>

    <body>

        <!-- Navigation Bar-->
        <header id="topnav">
            <div class="topbar-main">
                <div class="container-fluid">

                    <div class="menu-extras topbar-custom">

                        <ul class="navbar-right list-inline float-right mb-0">

                            <!-- full screen -->
                            <li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
                                <a class="nav-link" href="#" id="btn-fullscreen">
                                    <i class="ion ion-md-qr-scanner noti-icon"></i>
                                </a>
                            </li>


                            <li class="dropdown notification-list list-inline-item">
                                <div class="dropdown notification-list nav-pro-img">
                                    <a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                                        <img src="images/users/user-4.jpg" alt="user" class="rounded-circle">
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right profile-dropdown ">
                                        <!-- item-->
                                        <a class="dropdown-item text-danger" href="#"><i class="mdi mdi-power text-danger"></i> Logout</a>
                                    </div>
                                </div>
                            </li>


                            <li class="menu-item list-inline-item">
                                <!-- Mobile menu toggle-->
                                <a class="navbar-toggle nav-link">
                                    <div class="lines">
                                        <span></span>
                                        <span></span>
                                        <span></span>
                                    </div>
                                </a>
                                <!-- End mobile menu toggle-->
                            </li>

                        </ul>
                    </div>
                    <!-- end menu-extras -->

                    <div class="clearfix"></div>

                </div> <!-- end container -->
            </div>
            <!-- end topbar-main -->


            <!-- MENU Start -->
            <div class="navbar-custom">
                <div class="container-fluid">
                    <div id="navigation">
                        <!-- Navigation Menu-->
                        <ul class="navigation-menu">

                            <li class="has-submenu">
                                <a href="/OHS/"><i class="ion ion-md-speedometer"></i>Dashboard</a>
                            </li>

                            <li class="has-submenu">
                                <a href="#"><i class="ion ion-md-options"></i>信息查询 <i class="mdi mdi-chevron-down mdi-drop"></i></a>
                                <ul class="submenu">
                                    <li class="has-submenu">
                                        <a href="#">学生信息</a>
                                        <ul class="submenu">
                                            <li><a href="/OHS/selectAllStudent">查询所有学生信息</a></li>
                                        </ul>
                                    </li>
                                    <li class="has-submenu">
                                        <a href="#">班级信息</a>
                                        <ul class="submenu">
                                            <li><a href="/OHS/selectAllClass">查询所有班级信息</a></li>
                                        </ul>
                                    </li>
                                    <li class="has-submenu">
                                        <a href="#">课程信息</a>
                                        <ul class="submenu">
                                            <li><a href="/OHS/selectAllCourse">查询所有课程信息</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li class="has-submenu">
                                <a href="#"><i class="ion ion-md-options"></i>成绩 <i class="mdi mdi-chevron-down mdi-drop"></i></a>
                                <ul class="submenu">
                                    <li><a href="/OHS/selectPersonGrade">查询成绩</a></li>
                                    <li><a href="/OHS/selectAllClassGrade">查询班级总成绩</a></li>
                                </ul>
                            </li>
                            <li class="has-submenu">
                                <a href="#"><i class="ion ion-md-options"></i>上传系统 <i class="mdi mdi-chevron-down mdi-drop"></i></a>
                                <ul class="submenu">
                                    <li class="has-submenu">
                                        <a href="#">作业</a>
                                        <ul class="submenu">
                                            <li><a href="/OHS/uploadHomework">作业提交系统 </a></li>
                                        </ul>
                                    </li>
                                    <li class="has-submenu">
                                        <a href="#">查重</a>
                                        <ul class="submenu">
                                            <li><a href="/OHS/checkUploadHomework">作业查重系统</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                        <!-- End navigation menu -->
                    </div> <!-- end #navigation -->
                </div> <!-- end container -->
            </div> <!-- end navbar-custom -->
        </header>
        <!-- End Navigation Bar-->

        <!-- page wrapper start -->
        <div class="wrapper" style="padding-top: 65px">
            <div class="container-fluid">

                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">

                                <h4 class="mt-0 header-title">模糊查询个人成绩</h4>
                                <form id="form123">
                                <div class="form-group row">
                                    <label for="sid-input" class="col-sm-2 col-form-label">学号</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="sid" id="sid-input">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="sname-input" class="col-sm-2 col-form-label">姓名</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="sname" id="sname-input">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">性别</label>
                                    <div class="col-sm-10">
                                        <select class="form-control">
                                            <option>男</option>
                                            <option>女</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="cname-input" class="col-sm-2 col-form-label">班级名称</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="cname" id="cname-input">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="minUGrade-input" class="col-sm-2 col-form-label">最低平时成绩</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="minUGrade" id="minUGrade-input">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="maxUGrade-input" class="col-sm-2 col-form-label">最高平时成绩</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="maxUGrade" id="maxUGrade-input">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="minFGrade-input" class="col-sm-2 col-form-label">最低期末成绩</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="minFGrade" id="minFGrade-input">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="maxFGrade-input" class="col-sm-2 col-form-label">最高期末成绩</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="maxFGrade" id="maxFGrade-input">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="minTGrade-input" class="col-sm-2 col-form-label">最低总成绩</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="minTGrade" id="minTGrade-input">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="maxTGrade-input" class="col-sm-2 col-form-label">最高总成绩</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="maxTGrade" id="maxTGrade-input">
                                    </div>
                                </div>
                                <div class="form-group mb-0">
                                    <div>
                                        <button id="submit" type="button" class="btn btn-primary waves-effect waves-light mr-1">
                                            提交
                                        </button>
                                        <button type="reset" class="btn btn-secondary waves-effect">
                                            重置
                                        </button>
                                    </div>
                                </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- end row -->
                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-body">

                                        <h4 class="mt-0 header-title">查询结果</h4>


                                        <table id="datatables" class="table table-striped table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                                            <thead>
                                            </thead>
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div> <!-- end col -->
                        </div> <!-- end row -->
            </div>
            <!-- end container-fluid -->

        </div>
        <!-- page wrapper end -->

        <!-- Footer -->
        <footer class="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        2019 © Veltrix <span class="d-none d-sm-inline-block"> - Crafted with <i class="mdi mdi-heart text-danger"></i> by Themesbrand</span>
                    </div>
                </div>
            </div>
        </footer>
        <!-- End Footer -->


        <!-- jQuery  -->
        <script src="js/jquery.min.js"></script>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script src="js/jquery.slimscroll.js"></script>
        <script src="js/waves.min.js"></script>
        <!-- Required datatable js -->
        <script src="plugins/datatables/jquery.dataTables.min.js"></script>
        <script src="plugins/datatables/dataTables.bootstrap4.min.js"></script>
        <!-- Buttons examples -->
        <script src="plugins/datatables/dataTables.buttons.min.js"></script>
        <script src="plugins/datatables/buttons.bootstrap4.min.js"></script>
        <script src="plugins/datatables/jszip.min.js"></script>
        <script src="plugins/datatables/pdfmake.min.js"></script>
        <script src="plugins/datatables/vfs_fonts.js"></script>
        <script src="plugins/datatables/buttons.html5.min.js"></script>
        <script src="plugins/datatables/buttons.print.min.js"></script>
        <script src="plugins/datatables/buttons.colVis.min.js"></script>
        <!-- Responsive examples -->
        <script src="plugins/datatables/dataTables.responsive.min.js"></script>
        <script src="plugins/datatables/responsive.bootstrap4.min.js"></script>
        <!-- Datatable init js -->
        <script src="pages/datatables.init.js"></script>
        <!-- App js -->
        <script src="js/app.js"></script>
        <script src="plugins/sweet-alert2/sweetalert2.min.js"></script>
        <script src="pages/sweet-alert.init.js"></script>
    <script>
        const swalWithBootstrapButtons = Swal.mixin({
            customClass: {
                confirmButton: 'btn btn-success',
                cancelButton: 'btn btn-danger mr-2'
            },
            buttonsStyling: false,
        });
        var datatable;
        $("#submit").click(function(){
            $.ajax({
                url:"pgrade/selectPGrade",
                data:$("#form123").serialize(),
                type:'post',
                success:function(result){
                    if(result.code==200) {
                        if (datatable) {
                            datatable.clear();
                        }
                        datatable = $("#datatables").DataTable({
                            "processing": true,
                            "destroy": true,
                            "searching": true,
                            "data": result.data,
                            "columns": [
                                {"data": "sid", title: "学号"},
                                {"data": "sname", title: "姓名"},
                                {"data": "sex", title: "性别"},
                                {"data": "classname", title: "班级"},
                                {"data": "cname", title: "课程名称"},
                                {"data": "ugrade", title: "平时成绩"},
                                {"data": "fgrade", title: "期末成绩"},
                                {"data": "tgrade", title: "总成绩"}
                            ]
                        });
                    }else{
                        swalWithBootstrapButtons.fire(
                            '查询失败',
                            result.msg,
                            'error'
                        );
                    }
                },
                error:function(result){
                console.log(result);
                }
            });
        });

    </script>

    </body>

</html>